<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">client</a> &gt; <a href="index.source.html" class="el_package">classes</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">package classes;

import org.apache.commons.validator.routines.EmailValidator;

import java.util.List;

public class Controller {

    private RestfulClient restfulClient;

<span class="nc" id="L11">    public Controller(){</span>
<span class="nc" id="L12">        restfulClient = new RestfulClient();</span>
<span class="nc" id="L13">    }</span>

    public String signUp(User user){
<span class="nc" id="L16">        return restfulClient.postEntity(user);</span>
    }

    public String login(User user){
<span class="nc" id="L20">        return restfulClient.login(user);</span>
    }

    public User getUpdates(User user){
<span class="nc" id="L24">        User result = restfulClient.getUpdates(user);</span>
<span class="nc" id="L25">        return result;</span>
    }

    public List&lt;Activity&gt; getAllActivities(User user){
<span class="nc" id="L29">        return restfulClient.getAllActivities(user);</span>
    }

    public List&lt;Activity&gt; sendFood(Activity activity){
<span class="nc" id="L33">        return restfulClient.addActivity(activity);</span>
    }

    /**
     *
     * @param user
     * @param amount
     * @return foodfootprint + amount of meals eaten
     */
    public void sendMeal(User user, int amount){
<span class="nc" id="L43">        user.setFoodScore(amount + user.getFoodScore());</span>
<span class="nc" id="L44">        user.setPolarScore(user.getPolarScore() + amount);</span>
<span class="nc" id="L45">        restfulClient.activity(user);</span>
<span class="nc" id="L46">    }</span>

    /**
     *
     * @param user
     * @param amount
     * @return transportfootprint + amount of kilometers driven
     */
    public void sendTransport(User user, int amount){
<span class="nc" id="L55">        user.setTransportScore(amount + user.getTransportScore());</span>
<span class="nc" id="L56">        user.setPolarScore(user.getPolarScore() + amount);</span>
<span class="nc" id="L57">        restfulClient.activity(user);</span>
<span class="nc" id="L58">    }</span>

    /**
     *
     * @param user
     * @param amount
     * @return electricity + amount of liters of water wasted
     */
    public void sendElectricity(User user, int amount){
<span class="nc" id="L67">        user.setElectricityScore(amount + user.getElectricityScore());</span>
<span class="nc" id="L68">        user.setPolarScore(user.getPolarScore() + amount);</span>
<span class="nc" id="L69">        restfulClient.activity(user);</span>
<span class="nc" id="L70">    }</span>

    /**
     * This method checks for a valid email
     * @param email
     * @return boolean
     */
    public static boolean checkEmail(String email){
<span class="nc" id="L78">        boolean emailValid = EmailValidator.getInstance().isValid(email);</span>
<span class="nc" id="L79">        return emailValid;</span>
    }

    public RestfulClient getRestfulClient() {
<span class="nc" id="L83">        return restfulClient;</span>
    }

    public void setRestfulClient(RestfulClient restfulClient) {
<span class="nc" id="L87">        this.restfulClient = restfulClient;</span>
<span class="nc" id="L88">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span></div></body></html>